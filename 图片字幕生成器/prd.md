# 图片字幕生成器需求文档 (PRD)

## 1. 产品概述
图片字幕生成器是一个网页工具，允许用户上传图片并添加自定义字幕文本，通过调整字幕样式参数生成带有指定字幕的新图片，并支持保存生成结果。

## 2. 核心功能需求

### 2.1 文件上传功能
- 支持选择本地图片文件上传
- 上传后显示文件名（如示例中的"61bca1c9-8e2e-4036-8b58-4b6709c23873_0.0.png"）
- 支持常见图片格式（至少包括PNG、JPG）

### 2.2 字幕样式设置
- **字幕高度**：可通过输入框设置（单位：px），默认值40px
- **字体大小**：可通过输入框设置（单位：px），默认值20px
- **字体颜色**：通过颜色选择器设置，默认白色
- **轮廓颜色**：通过颜色选择器设置，默认黑色

### 2.3 字幕文本输入
- 提供多行文本输入框
- 支持输入多行文本，每行文本将作为独立字幕行
- 示例文本内容：
  ```
  别吵
  我在给自己写钓鱼网站呢
  对，这年头
  咱们猫咪都能自己写代码了
  ```

### 2.4 图片生成功能
- **生成字幕图片**按钮：点击后根据设置参数在原图上添加字幕
- 生成的字幕显示在图片底部
- **字幕显示特性**：
  - 每行字幕有独立的相同背景（呈现切割感）
  - 背景颜色为黑色（示例中）
  - 字幕文本居中显示
  - 字幕区域与图片底部留有适当边距

### 2.5 图片保存功能
- **保存图片**按钮：点击后将生成的带字幕图片保存到本地
- 保存格式与原图保持一致

## 3. 界面设计需求

### 3.1 整体布局
- 顶部：产品标题"图片字幕生成器"
- 上部区域：控制面板
  - 文件选择区
  - 参数设置区（字幕高度、字体大小、字体颜色、轮廓颜色）
  - 文本输入区
  - 操作按钮（生成字幕图片、保存图片）
- 下部区域：图片预览区
  - 显示上传的原图及生成的带字幕图片

### 3.2 控件布局细节
- 参数设置项水平排列
- 颜色选择器以色块形式展示当前选中颜色
- 文本输入框高度适中，可容纳多行文本
- 操作按钮使用绿色背景，突出显示
- 预览图片居中展示，保持原始比例

## 4. 交互流程
1. 用户点击文件选择区域，上传图片
2. 系统显示上传的图片文件名
3. 用户调整字幕参数（高度、字体大小、颜色等）
4. 用户在文本框中输入多行字幕文本
5. 点击"生成字幕图片"按钮
6. 系统在预览区显示添加字幕后的图片，底部显示多行带独立背景的字幕
7. 点击"保存图片"按钮，将生成的图片保存到本地

## 5. 特殊视觉要求
- 生成的图片底部字幕区域需呈现"切割感"：
  - 每行字幕拥有独立且相同的背景色块
  - 色块高度一致
  - 色块之间无间隔或有固定细小间隔
  - 整体字幕区域与图片底部对齐